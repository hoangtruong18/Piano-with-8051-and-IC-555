ORG 0
CLR P2.0
CLR P2.1
CLR P2.2
CLR P2.3
CLR P2.4
CLR P2.5
CLR P2.6
CLR P2.7
CLR P3.0
CLR P3.1
CLR P3.2
CLR P3.3


;;Canon in C
CALL G4
CALL DELAY1point5s
CALL E4
CALL F4
CALL G4
CALL DELAY1point5s
CALL E4
CALL F4
CALL G4
CALL DELAY0point5s
CALL G3
CALL A3
CALL B3
CALL C4
CALL D4
CALL E4
CALL F4
CALL E4
CALL DELAY1point5s
CALL C4
CALL D4
CALL E4
CALL DELAY1point5s
CALL E3
CALL F3
CALL G3
CALL A3
CALL G3
CALL F3
CALL G3
CALL C4
CALL B3
CALL C4
CALL A3
CALL DELAY1point5s
CALL C4 
CALL B3
CALL A3
CALL DELAY1point5s
CALL G3
CALL F3
CALL G3
CALL F3
CALL E3
CALL F3
CALL G3
CALL A3
CALL B3
CALL C4
CALL A3
CALL DELAY1point5s
CALL C4
CALL B3
CALL C4
CALL DELAY1point5s
CALL B3
CALL A3
CALL B3 
CALL C4
CALL D4
CALL C4
CALL B3
CALL C4
CALL A3
CALL B3
CALL C4
JMP $

;;Ode to joy song
;CALL E3
;CALL E3
;CALL F3
;CALL G3 
;CALL G3
;CALL F3
;CALL E3
;CALL D3
;CALL C3
;CALL C3
;CALL D3
;CALL E3
;CALL E3
;CALL DELAY1s
;SETB P2.1
;SETB P1.1
;CALL DELAY0point5s
;CLR P1.1
;CALL DELAY0point5s
;CLR P2.1
;SETB P2.1
;SETB P1.1
;CALL DELAY0point5s
;CLR P1.1
;CALL DELAY0point5s
;CLR P2.1
;CALL DELAY1s
;CALL DELAY1s
;CALL E3
;CALL E3
;CALL F3
;CALL G3 
;CALL G3
;CALL F3
;CALL E3
;CALL D3
;CALL C3
;CALL C3
;CALL D3
;CALL E3
;CALL D3
;CALL DELAY1s
;SETB P2.0
;SETB P1.0
;CALL DELAY0point5s
;CLR P1.0
;CALL DELAY0point5s
;CLR P2.0
;SETB P2.0
;SETB P1.0
;CALL DELAY0point5s
;CLR P1.0
;CALL DELAY0point5s
;CLR P2.0

;CALL DELAY1s
;CALL DELAY1s
;CALL DELAY1s
;CALL DELAY1s
;CALL DELAY1s
;CALL DELAY1s
;CALL DELAY1s

;;Jingle bell song
;CALL E3
;CALL E3
;CALL E3
;CALL DELAY1s
;CALL DELAY1s
;CALL E3
;CALL E3
;CALL E3
;CALL DELAY1s
;CALL DELAY1s
;CALL E3
;CALL G3
;CALL C3
;CALL D3
;CALL E3
;CALL DELAY1s
;CALL DELAY1s
;CALL DELAY1s
;CALL F3
;CALL F3
;CALL F3
;CALL F3
;CALL F3
;CALL E3
;CALL E3
;CALL E3
;CALL E3
;CALL D3
;CALL D3 
;CALL E3
;CALL D3
;CALL DELAY1s
;CALL DELAY1s
;CALL G3
;CALL DELAY1s
;CALL DELAY1s
;CALL DELAY1s
;CALL E3
;CALL E3
;CALL E3
;CALL DELAY1s
;CALL DELAY1s
;CALL E3
;CALL E3
;CALL E3
;CALL DELAY1s
;CALL DELAY1s
;CALL E3
;CALL G3
;CALL C3
;CALL D3
;CALL E3
;CALL DELAY1s
;CALL DELAY1s
;CALL DELAY1s
;CALL F3
;CALL F3
;CALL F3
;CALL F3
;CALL F3
;CALL E3
;CALL E3
;CALL E3
;CALL G3
;CALL G3
;CALL F3
;CALL D3
;CALL C3
;JMP $

C3:
SETB P2.0
SETB P1.0
CALL DELAY1s
CLR P1.0
CALL DELAY1s
CLR P2.0
RET

D3:
SETB P2.1
SETB P1.1
CALL DELAY1s
CLR P1.1
CALL DELAY1s
CLR P2.1
RET

E3:
SETB P2.2
SETB P1.2
CALL DELAY1s
CLR P1.2
CALL DELAY1s
CLR P2.2
RET

F3:
SETB P2.3
SETB P1.3
CALL DELAY1s
CLR P1.3
CALL DELAY1s
CLR P2.3
RET

G3:
SETB P2.4
SETB P1.4
CALL DELAY1s
CLR P1.4
CALL DELAY1s
CLR P2.4
RET

A3:
SETB P2.5
SETB P1.5
CALL DELAY1s
CLR P1.5
CALL DELAY1s
CLR P2.5
RET

B3:
SETB P2.6
SETB P1.6
CALL DELAY1s
CLR P1.6
CALL DELAY1s
CLR P2.6
RET

C4:
SETB P2.7
SETB P1.7
CALL DELAY1s
CLR P1.7
CALL DELAY1s
CLR P2.7
RET

D4:
SETB P3.0
SETB P0.0
CALL DELAY1s
CLR P0.0
CALL DELAY1s
CLR P3.0
RET

E4:
SETB P3.1
SETB P0.1
CALL DELAY1s
CLR P0.1
CALL DELAY1s
CLR P3.1
RET

F4:
SETB P3.2
SETB P0.2
CALL DELAY1s
CLR P0.2
CALL DELAY1s
CLR P3.2
RET

G4:
SETB P3.3
SETB P0.3
CALL DELAY1s
CLR P0.3
CALL DELAY1s
CLR P3.3
RET

;Delay for Ode to Joy + Jingle bell
;DELAY1s:
;MOV R7,#2
;LOOP1: MOV R6,#150
;LOOP2:MOV R5,#250
;DJNZ R5,$
;DJNZ R6,LOOP2
;DJNZ R7,LOOP1
;RET
;DELAY0point5s:
;MOV R7,#1
;LOOP4: MOV R6,#190
;LOOP3:MOV R5,#250
;DJNZ R5,$
;DJNZ R6,LOOP3
;DJNZ R7,LOOP4
;RET

;Delay for Canon in C
DELAY1s:
MOV R7,#2
LOOP1: MOV R6,#120
LOOP2:MOV R5,#250
DJNZ R5,$
DJNZ R6,LOOP2
DJNZ R7,LOOP1
RET
DELAY0point5s:
MOV R7,#1
LOOP4: MOV R6,#100
LOOP3:MOV R5,#250
DJNZ R5,$
DJNZ R6,LOOP3
DJNZ R7,LOOP4
RET
DELAY1point5s:
MOV R7,#2
LOOP6: MOV R6,#190
LOOP5:MOV R5,#250
DJNZ R5,$
DJNZ R6,LOOP5
DJNZ R7,LOOP6
RET

END
	